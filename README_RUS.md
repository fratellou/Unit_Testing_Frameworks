## Unit_testing_frameworks

1. Написать стековый калькулятор, который принимает в качестве аргумента командной строки имя файла, содержащего команды. Реализовать набор модульных тестов, покрывающих функционал калькулятора. 
2. Реализовать набор модульных тестов, покрывающих функционал ЛР3, используя на Google Test. 

## Оглавление

1. [Задание 1](#задание-1) \
    1.1 [Задание 1. Теория](#задание-1-теория) \
    1.2 [Задание 1. Код](#задание-1-код)
2. [Задание 2]() \
    2.1 [Задание 2. Теория]() \
    2.2 [Задание 2. Код]()

# Задание 1

Написать стековый калькулятор, который принимает в качестве аргумента командной строки имя файла, содержащего команды. Если аргумента нет, то использовать стандартный поток ввода для чтения команд. Использовать вещественные числа.  
Реализовать набор модульных тестов, покрывающих функционал калькулятора. 
В программе реализовать следующий набор команд: 
- \# - строка с комментарием. 
- POP, PUSH — снять/положить число со/на стек(а). 
- \+ , - , * , /, SQRT – арифметические операции. Используют один или два верхних элемента стека, изымают их из стека, помещая результат назад PRINT — печать верхнего элемента стека (без удаления). 
- DEFINE — задать значение параметра. В дальнейшем везде использовать вместо параметра это значение.  
 
Пример (должно вывести 2): 
> DEFINE a 4 
>
> PUSH a SQRT  
>
> PRINT  
>

Методические указания: 
Создание команд рекомендуется реализовать посредством шаблона проектирования «фабричный метод». 
Аргументы команде (тем у которых есть аргументы) на исполнение можно передавать в виде списка объектов, команда сама должна уметь интерпретировать свои аргументы 
Содержимое стека и список (лучше ассоциативный контейнер std::map<std::string, double>) определенных именованных параметров передавать команде в виде специального объекта — контекста исполнения  
Разработать иерархию исключений, которые будут выбрасывать команды при исполнении. В случае возникновения исключения — выводить информацию об ошибке и продолжать исполнение программы (из файла или команд вводимых с консоли). 
Для реализации модульных тестов использовать Google Test Framework

## Задание 1. Теория

Подробное объснение фабричного метода можно найти в репозитории https://github.com/fratellou/Factory_method.

Установка Google Test Framework на Ubuntu:

> sudo apt-get install libgtest-dev libgmock-dev # для ubuntu 20
>
> sudo apt-get install google-mock # для ubuntu 18

После их установки в каталоге с заголовочными файлами /usr/include/ появятся папки gtest и gmock. Однако, для полноценной работы фреймворку нужна еще поддержка многопоточности. Добавим ее:

> sudo apt-get install libtbb-dev

Для компиляции понадобится установить пакет cmake:

> sudo apt-get install cmake

Когда вы установили чуть выше libgtest-dev - в вашу систему также добавились исходники googletest и googlemock, которые можно найти в директории /usr/src/googletest/.

Идем туда:

> cd /usr/src/googletest/

Создаем каталог для сборки и переходим в него:

> sudo mkdir build
>

> cd build
>

В этом каталоге запускаем команду:

> sudo cmake ..

Две точки рядом с cmake означают, что нужно искать файл сценария CMakeLists.txt в родительском каталоге. Эта команда сгенерирует набор инструкций для компиляции и сборки библиотек gtest и gmock. После чего останется выполнить:

> sudo make

Если все пройдет успешно, то будет создан новый каталог lib, где будут находится 4 файла:

`libgmock.a, libgmock_main.a, libgtest.a, libgtest_main.a`

Эти файлы содержат реализацию функционала фреймворка и их нужно скопировать в каталог к остальным библиотекам:

> sudo cp lib/* /usr/lib

*Для ubuntu 18 библиотеки будут находится в ./googlemock/ и ./googlemock/gtest/
После копирования каталог build можно удалить.

После этого можно переходить в директорию с проектом и запускать Makefile.

## Задание 1. Код